<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Daily Weather Report</title>
    <style>
      html {zoom: 0.70; margin: 3em}
      h4 {margin: 0;}
      div {font-size: 8pt;}
      b {font-size: 8pt;}
      .icon-cnt {position: absolute; right: 0; top: 0;}
      .day-cnt {position: relative;}
    </style>
  </head>
  <body>
    <div>
      <h3>Daily Weather Report</h3>
      <div:t repeat='day in weatherData' class='day-cnt'>
        <h4>{{utils.getDateStr(day.dt)}}</h4>
        <div class='icon-cnt'>
          <div:t repeat='type in day.weather'>
            <img src="{{utils.iconUrl(type.icon)}}" alt="Rain">
            <br>
            {{type.description}}
          </div:t>
        </div>
        <b>Sun rise:</b>  {{utils.getTimeStr(day.sunrise, user)}} - <b>set:</b> {{utils.getTimeStr(day.sunset, user)}}
        <br>
        <b>Moon rise:</b> {{utils.getTimeStr(day.moonrise, user)}} - <b>set:</b> {{utils.getTimeStr(day.moonset, user)}} (<b>Phase</b> {{day.moon_phase}})
        <br>
        <table>
          <tbody>
            <tr>
              <td><b>Temperature</b></td>
              <td>&nbsp;&nbsp;&nbsp;</td>
              <td></td>
              <td><b>Morning</b></td>
              <td><b>Day</b></td>
              <td><b>Evening</b></td>
              <td><b>Night</b></td>
            <tr>
              <td><b>Low</b> {{Math.round(day.temp.min)}} &#x2109;</td>
              <td>&nbsp;&nbsp;&nbsp;</td>
              <td><b>Real</b></td>
              <td>{{Math.round(day.temp.morn)}} &#x2109;</td>
              <td>{{Math.round(day.temp.day)}} &#x2109;</td>
              <td>{{Math.round(day.temp.eve)}} &#x2109;</td>
              <td>{{Math.round(day.temp.night)}} &#x2109;</td>
            </tr>
            <tr>
              <td><b>High</b> {{Math.round(day.temp.max)}} &#x2109;</td>
              <td>&nbsp;&nbsp;&nbsp;</td>
              <td><b>Wind Chill</b></td>
              <td>{{Math.round(day.feels_like.morn)}} &#x2109;</td>
              <td>{{Math.round(day.feels_like.day)}} &#x2109;</td>
              <td>{{Math.round(day.feels_like.eve)}} &#x2109;</td>
              <td>{{Math.round(day.feels_like.night)}} &#x2109;</td>
            </tr>
          </tbody>
        </table>
        <table>
          <tbody>
            <tr>
              <td>{{Math.round((day.rain || 0))}}% chance of rain</td>
              <td>{{day.pressure}} Air Pressure</td>
              <td><b>Wind</b></td>
              <td>speed: {{Math.round(day.wind_speed)}} mph</td>
              <td>gust: {{Math.round(day.wind_gust)}} mph</td>
            </tr>
            <tr>
              <td>{{Math.round(day.clouds)}}% cloud coverage</td>
              <td>{{day.uvi}} UV Index(inconsistant)</td>
              <td></td>
              <td>direction: {{utils.getDirection(day.wind_deg)}} ({{day.wind_deg}}&deg;)</td>
            </tr>
            <tr>
              <td>{{Math.round(day.humidity )}}% humidity</td>
              <td></td>
            </tr>
          </tbody>
        </table>
        {{$index !== weatherData.length - 1 ? '<br>' : ''}}
      </div:t>
    </div>
  </body>
</html>
